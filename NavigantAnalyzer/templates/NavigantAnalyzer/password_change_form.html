{% extends "NavigantAnalyzer/layout.html" %}
{% block content %}

{# By Riku - 2018-10-29 #}

<h2>Vaihda salasana</h2>

<form action="." method="post" class="loginform">
    {% csrf_token %}
    <h4>Anna vanha salasanasi, ja anna uusi salasanasi kahdesti.</h4>
    <hr />
    <div class="flex-container">
        <div class="dp-column password-change">

            <div class="form-group">
                {{ form.old_password.errors }}
                {{ form.old_password.label_tag }}<br /> 
                {{ form.old_password }}
            </div>

            <div class="form-group">
                {{ form.new_password1.errors }}
                {{ form.new_password1.label_tag }}<br />
                {{ form.new_password1 }}
            </div>

            <div class="form-group">
            {{ form.new_password2.errors }}
                {{ form.new_password2.label_tag }}<br /> 
                {{ form.new_password2 }}
            </div>
        </div>
        <div class="dp-column password-change">
            {% if form.new_password1.help_text %}
            <div class="help">{{ form.new_password1.help_text|safe }}</div>
            {% endif %}
            {% if form.new_password2.help_text %}
            <div class="help">{{ form.new_password2.help_text|safe }}</div>
            {% endif %}
        </div>
    </div>
    <div class="form-group align-left">
        {# I copied this pattern from the admin module login form #}
        {#<input type="hidden" name="next" value="{{ next }}" />#}
        <input type="submit" value="vaihda salasana" />
        <button type="button" class="cancelbutton" value="peruuta" onclick="history.go(-1)">peruuta</button>
    </div>

    {% if form.errors %}
        <p class="message">
        {% if form.errors.items|length == 1 %}Korjaa ylläoleva virhe.{% else %}Korjaa ylläolevat virheet.{% endif %}
        </p>
    {% endif %}
</form>

{% endblock %}
